{"version":3,"file":"static/js/49.0c0d08ce.chunk.js","mappings":"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","sources":["compenents/includes/footer.jsx","services/stripeService.js","compenents/includes/header.jsx","services/authServices.js","services/profil/profileService.js"],"sourcesContent":["import React from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport '../../assets/styles/compenents/includes/footer.scss';\n\nconst Footer = () => {\n    const navigate = useNavigate();\n\n    return (\n        <footer className=\"footer\">\n            <div className=\"footer-container\">\n                <div className=\"footer-content\">\n                    <div className=\"footer-brand\">\n                        <div className=\"logo\">\n                            <div className=\"logo-icon\">\n                                <svg viewBox=\"0 0 24 24\" fill=\"none\">\n                                    <rect x=\"3\" y=\"5\" width=\"18\" height=\"14\" rx=\"2\" stroke=\"currentColor\" strokeWidth=\"2\"/>\n                                    <path d=\"M7 9h6M7 12h4M7 15h8\" stroke=\"currentColor\" strokeWidth=\"2\"/>\n                                </svg>\n                            </div>\n                            <span>TaskForce</span>\n                        </div>\n                        <p>Répartition intelligente des tâches pour équipes performantes</p>\n                    </div>\n\n                    <div className=\"footer-links\">\n                        <div className=\"footer-section\">\n                            <h4>Produit</h4>\n                            <ul>\n                                <li><a href=\"#\">Fonctionnalités</a></li>\n                                <li><a href=\"#\">Tarifs</a></li>\n                            </ul>\n                        </div>\n\n                        <div className=\"footer-section\">\n                            <h4>Support</h4>\n                            <ul>\n                                <li><a href=\"#\">Aide</a></li>\n                                <li><a href=\"#\">Contact</a></li>\n                            </ul>\n                        </div>\n                    </div>\n                </div>\n\n                <div className=\"footer-bottom\">\n                    <p>&copy; 2024 TaskForce. Tous droits réservés.</p>\n                    <div className=\"social-links\">\n                        <a href=\"#\" className=\"social-link\">\n                            <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                                <path d=\"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z\"/>\n                            </svg>\n                        </a>\n                        <a href=\"#\" className=\"social-link\">\n                            <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                                <path d=\"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z\"/>\n                            </svg>\n                        </a>\n                        <a href=\"#\" className=\"social-link\">\n                            <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                                <path d=\"M12.017 0C5.396 0 .029 5.367.029 11.987c0 5.079 3.158 9.417 7.618 11.174-.105-.949-.199-2.403.041-3.439.219-.937 1.406-5.957 1.406-5.957s-.359-.72-.359-1.781c0-1.663.967-2.911 2.168-2.911 1.024 0 1.518.769 1.518 1.688 0 1.029-.653 2.567-.992 3.992-.285 1.193.6 2.165 1.775 2.165 2.128 0 3.768-2.245 3.768-5.487 0-2.861-2.063-4.869-5.008-4.869-3.41 0-5.409 2.562-5.409 5.199 0 1.033.394 2.143.889 2.741.096.120.112.225.085.345-.09.375-.293 1.199-.334 1.363-.053.225-.172.271-.402.165-1.495-.69-2.433-2.878-2.433-4.646 0-3.776 2.748-7.252 7.92-7.252 4.158 0 7.392 2.967 7.392 6.923 0 4.135-2.607 7.462-6.233 7.462-1.214 0-2.357-.629-2.754-1.378l-.748 2.853c-.271 1.043-1.002 2.35-1.492 3.146C9.57 23.812 10.763 24.009 12.017 24c6.624 0 11.99-5.367 11.99-11.988C24.007 5.367 18.641.001.001 12.017z\"/>\n                            </svg>\n                        </a>\n                    </div>\n                </div>\n            </div>\n        </footer>\n    );\n};\n\nexport default Footer;","const API_BASE_URL = 'http://localhost:8000/api';\n\nclass StripeService {\n    async createPaymentIntent(amount = 999) {\n        try {\n            const token = localStorage.getItem('token');\n            const response = await fetch(`${API_BASE_URL}/stripe/create-payment-intent`, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': `Bearer ${token}`,\n                    'X-Request-ID': `${Date.now()}-${Math.random().toString(36).substr(2, 9)}`\n                },\n                body: JSON.stringify({ amount })\n            });\n\n            if (!response.ok) {\n                throw new Error('Erreur lors de la création du paiement');\n            }\n\n            return await response.json();\n        } catch (error) {\n            console.error('Erreur Stripe:', error);\n            throw error;\n        }\n    }\n\n    async createSubscription(paymentMethodId) {\n        try {\n            const user = JSON.parse(localStorage.getItem('user') || '{}');\n            const requestData = { \n                payment_method_id: paymentMethodId,\n                user_id: user.id\n            };\n            \n            const token = localStorage.getItem('token');\n            const response = await fetch(`${API_BASE_URL}/stripe/create-subscription`, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': `Bearer ${token}`,\n                    'X-Request-ID': `${Date.now()}-${Math.random().toString(36).substr(2, 9)}`\n                },\n                body: JSON.stringify(requestData)\n            });\n\n            if (!response.ok) {\n                throw new Error('Erreur lors de la création de l\\'abonnement');\n            }\n\n            return await response.json();\n        } catch (error) {\n            console.error('Erreur Stripe:', error);\n            throw error;\n        }\n    }\n\n    async getSubscriptionStatus() {\n        try {\n            const token = localStorage.getItem('token');\n            const response = await fetch(`${API_BASE_URL}/stripe/subscription-status`, {\n                method: 'GET',\n                headers: {\n                    'Authorization': `Bearer ${token}`,\n                    'X-Request-ID': `${Date.now()}-${Math.random().toString(36).substr(2, 9)}`\n                }\n            });\n\n            if (!response.ok) {\n                throw new Error('Erreur lors de la récupération du statut');\n            }\n\n            return await response.json();\n        } catch (error) {\n            console.error('Erreur Stripe:', error);\n            throw error;\n        }\n    }\n\n    async cancelSubscription() {\n        try {\n            const token = localStorage.getItem('token');\n            const response = await fetch(`${API_BASE_URL}/stripe/cancel-subscription`, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': `Bearer ${token}`,\n                    'X-Request-ID': `${Date.now()}-${Math.random().toString(36).substr(2, 9)}`\n                }\n            });\n\n            if (!response.ok) {\n                const errorData = await response.json();\n                throw new Error(errorData.error || 'Erreur lors de l\\'annulation de l\\'abonnement');\n            }\n\n            return await response.json();\n        } catch (error) {\n            console.error('Erreur Stripe:', error);\n            throw error;\n        }\n    }\n}\n\nexport default new StripeService();\n","import React, { useState, useEffect } from 'react';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport authService from \"../../services/authServices\";\nimport profileService from \"../../services/profil/profileService\";\nimport '../../assets/styles/compenents/includes/header.scss';\n\nconst Header = () => {\n    const [isMenuOpen, setIsMenuOpen] = useState(false);\n    const [isAuthenticated, setIsAuthenticated] = useState(false);\n    const [canAccessAdmin, setCanAccessAdmin] = useState(false);\n    const navigate = useNavigate();\n    const location = useLocation();\n\n    useEffect(() => {\n        const checkAuth = async () => {\n            try {\n                const isAuth = await authService.isAuthenticated();\n                if (isAuth) {\n                    const userProfile = await profileService.getProfile();\n                    setIsAuthenticated(true);\n                     \n                    try {\n                        const { dashboardServices } = await import('../../services/dashboard/dashboardServices');\n                        const projectsData = await dashboardServices.getProjects();\n                        const hasAdminAccess = authService.canAccessAdminGlobally(projectsData.projects, userProfile.id);\n                        setCanAccessAdmin(hasAdminAccess);\n                    } catch (error) {\n                        console.error('Erreur lors de la vérification des permissions admin:', error);\n                        setCanAccessAdmin(false);\n                    }\n                } else {\n                    setIsAuthenticated(false);\n                    setCanAccessAdmin(false);\n                }\n            } catch (error) {\n                setIsAuthenticated(false);\n                setCanAccessAdmin(false);\n            }\n        };\n\n        checkAuth();\n    }, [location.pathname]);\n\n    useEffect(() => {\n        setIsMenuOpen(false);\n    }, [location.pathname]);\n\n\n    const toggleMenu = () => {\n        setIsMenuOpen(!isMenuOpen);\n    };\n\n    const handleLogout = () => {\n        authService.logout();\n        setIsAuthenticated(false);\n        navigate('/');\n    };\n\n    return (\n        <header className=\"header\">\n            <div className=\"header-container\">\n                <div className=\"header-left\">\n                    <div className=\"logo\" onClick={() => navigate('/')}>\n                        <div className=\"logo-icon\">\n                            <svg viewBox=\"0 0 24 24\" fill=\"none\">\n                                <rect x=\"3\" y=\"5\" width=\"18\" height=\"14\" rx=\"2\" stroke=\"currentColor\" strokeWidth=\"2\"/>\n                                <path d=\"M7 9h6M7 12h4M7 15h8\" stroke=\"currentColor\" strokeWidth=\"2\"/>\n                            </svg>\n                        </div>\n                        <span className=\"logo-text\">TaskForce</span>\n                    </div>\n\n                    <nav className={`nav-links ${isMenuOpen ? 'mobile-open' : ''}`}>\n                        <button className=\"nav-link\">Fonctionnalités</button>\n                        {isAuthenticated && (\n                            <>\n                                <button className=\"nav-link\" onClick={() => navigate('/dashboard')}>\n                                    Mes Tableaux\n                                </button>\n                                {canAccessAdmin && (\n                                    <button className=\"nav-link\" onClick={() => navigate('/admin')}>\n                                        Admin\n                                    </button>\n                                )}\n                                <button className=\"nav-link\" onClick={() => navigate('/my-account')}>\n                                    Mon Compte\n                                </button>\n                            </>\n                        )}\n                    </nav>\n                </div>\n\n                <div className=\"header-right\">\n                    {isAuthenticated ? (\n                        <>\n                            <button className=\"btn-login\" onClick={() => navigate('/dashboard')}>\n                                Mes Tableaux\n                            </button>\n                            {canAccessAdmin && (\n                                <button className=\"btn-admin\" onClick={() => navigate('/admin')}>\n                                    Admin\n                                </button>\n                            )}\n                            <button className=\"btn-signup\" onClick={() => navigate('/account')}>\n                                Mon Compte\n                            </button>\n                        </>\n                    ) : (\n                        <>\n                            <button className=\"btn-login\" onClick={() => navigate('/login')}>\n                                Connexion\n                            </button>\n                            <button className=\"btn-signup\" onClick={() => navigate('/register')}>\n                                Créer un compte\n                            </button>\n                        </>\n                    )}\n\n                    <button \n                        className=\"mobile-menu-toggle\" \n                        onClick={toggleMenu}\n                        aria-label=\"Toggle mobile menu\"\n                        aria-expanded={isMenuOpen}\n                    >\n                        <span></span>\n                        <span></span>\n                        <span></span>\n                    </button>\n                </div>\n            </div>\n        </header>\n    );\n};\n\nexport default Header;","import axios from 'axios';\n\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:8000/api';\n\nconst api = axios.create({\n    baseURL: API_URL,\n    headers: {\n        'Content-Type': 'application/json',\n    },\n    timeout: 10000,\n});\nconst SecurityUtils = {\n    isValidJWT: (token) => {\n        if (!token || typeof token !== 'string') return false;\n        \n        try {\n            const parts = token.split('.');\n            if (parts.length !== 3) return false;\n            \n            const header = JSON.parse(atob(parts[0]));\n            if (!header.alg || !header.typ) return false;\n            \n            const payload = JSON.parse(atob(parts[1]));\n            const now = Math.floor(Date.now() / 1000);\n            \n            return payload.exp && payload.exp > now;\n        } catch (error) {\n            console.error('Token validation error:', error);\n            return false;\n        }\n    },\n\n    clearStorage: () => {\n        localStorage.removeItem('token');\n        localStorage.removeItem('user');\n        localStorage.removeItem('refreshToken');\n        sessionStorage.clear();\n        \n        document.cookie.split(\";\").forEach(cookie => {\n            const eqPos = cookie.indexOf(\"=\");\n            const name = eqPos > -1 ? cookie.substr(0, eqPos) : cookie;\n            document.cookie = `${name}=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/`;\n        });\n    },\n\n    sanitizeUserData: (userData) => {\n        if (!userData || typeof userData !== 'object') return null;\n        \n        return {\n            id: userData.id,\n            email: userData.email,\n            firstname: userData.firstname?.trim(),\n            lastname: userData.lastname?.trim(),\n            role: userData.role,\n        };\n    },\n\n    createRateLimiter: (maxRequests = 5, windowMs = 600000) => {\n        const requests = new Map();\n        \n        return (key) => {\n            const now = Date.now();\n            const windowStart = now - windowMs;\n            \n            if (!requests.has(key)) {\n                requests.set(key, []);\n            }\n            \n            const userRequests = requests.get(key).filter(time => time > windowStart);\n            \n            if (userRequests.length >= maxRequests) {\n                throw new Error('Trop de tentatives, veuillez patienter');\n            }\n            \n            userRequests.push(now);\n            requests.set(key, userRequests);\n        };\n    }\n};\n\nconst loginRateLimiter = SecurityUtils.createRateLimiter(5, 300000);\n\napi.interceptors.request.use(\n    (config) => {\n        const token = localStorage.getItem('token');\n        \n        if (token) {\n            if (SecurityUtils.isValidJWT(token)) {\n                config.headers.Authorization = `Bearer ${token}`;\n            } else {\n                console.warn('Token invalide détecté, nettoyage...');\n                SecurityUtils.clearStorage();\n            }\n        }\n        \n        config.headers['X-Request-ID'] = `${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\n        \n        return config;\n    },\n    (error) => {\n        console.error('Erreur intercepteur requête:', error);\n        return Promise.reject(error);\n    }\n);\napi.interceptors.response.use(\n    (response) => response,\n    (error) => {\n        const status = error.response?.status;\n        const config = error.config;\n        \n        switch (status) {\n            case 401:\n                console.warn('Token expiré ou invalide');\n                SecurityUtils.clearStorage();\n                 \n                const publicPaths = ['/login', '/register', '/', '/home'];\n                const currentPath = window.location.pathname;\n                \n                if (!publicPaths.some(path => currentPath.includes(path))) {\n                    sessionStorage.setItem('returnUrl', currentPath);\n                    window.location.replace('/login');\n                }\n                break;\n                \n            case 403:\n                console.error('Accès refusé:', error.response.data);\n                break;\n                \n            case 429:\n                console.warn('Rate limit atteint');\n                break;\n                \n            case 422:\n                console.error('Données invalides:', error.response.data);\n                break;\n                \n            default:\n                if (status >= 500) {\n                    console.error('Erreur serveur:', error.response?.data);\n                }\n        }\n        \n        return Promise.reject(error);\n    }\n);\nconst authService = {\n    register: async (userData) => {\n        try {\n            if (!userData.email || !userData.password || !userData.firstname || !userData.lastname) {\n                throw new Error('Tous les champs sont requis');\n            }\n            \n            if (userData.password.length < 8) {\n                throw new Error('Le mot de passe doit contenir au moins 8 caractères');\n            }\n            \n            if (!/[A-Z]/.test(userData.password)) {\n                throw new Error('Le mot de passe doit contenir au moins une majuscule');\n            }\n            \n            if (!/[0-9]/.test(userData.password)) {\n                throw new Error('Le mot de passe doit contenir au moins un chiffre');\n            }\n            \n            const sanitizedData = {\n                email: userData.email.trim().toLowerCase(),\n                password: userData.password,\n                firstname: userData.firstname.trim(),\n                lastname: userData.lastname.trim()\n            };\n            \n            const response = await api.post('/register', sanitizedData);\n            return response.data;\n        } catch (error) {\n            console.error('Erreur inscription:', error);\n            throw error.response?.data || { message: error.message };\n        }\n    },\n\n    login: async (credentials) => {\n        try {\n            if (!credentials.email || !credentials.password) {\n                throw new Error('Email et mot de passe requis');\n            }\n            \n            loginRateLimiter(credentials.email);\n            \n            const loginData = {\n                username: credentials.email.trim().toLowerCase(),\n                password: credentials.password\n            };\n            \n            const response = await api.post('/login', loginData);\n            const { token, user, refreshToken } = response.data;\n            \n            if (!token || !SecurityUtils.isValidJWT(token)) {\n                throw new Error('Token invalide reçu du serveur');\n            }\n            \n            localStorage.setItem('token', token);\n            \n            if (refreshToken && SecurityUtils.isValidJWT(refreshToken)) {\n                localStorage.setItem('refreshToken', refreshToken);\n            }\n            \n            if (user) {\n                const sanitizedUser = SecurityUtils.sanitizeUserData(user);\n                if (sanitizedUser) {\n                    localStorage.setItem('user', JSON.stringify(sanitizedUser));\n                }\n            }\n            \n            return response.data;\n        } catch (error) {\n            console.error('Erreur connexion:', error);\n            throw error.response?.data || { message: error.message };\n        }\n    },\n\n    logout: async () => {\n        try {\n            const token = localStorage.getItem('token');\n            \n            if (token && SecurityUtils.isValidJWT(token)) {\n                await api.post('/logout');\n            }\n        } catch (error) {\n            console.error('Erreur lors de la déconnexion serveur:', error);\n        } finally {\n            SecurityUtils.clearStorage();\n            window.location.replace('/login');\n        }\n    },\n\n    hasToken: () => {\n        const token = localStorage.getItem('token');\n        return token && SecurityUtils.isValidJWT(token);\n    },\n\n    isAuthenticated: async () => {\n        const token = localStorage.getItem('token');\n        \n        if (!token || !SecurityUtils.isValidJWT(token)) {\n            SecurityUtils.clearStorage();\n            return false;\n        }\n\n        try {\n            const response = await api.get('/user');\n            \n            if (response.data && response.data.id) {\n                return true;\n            } else {\n                throw new Error('Réponse utilisateur invalide');\n            }\n        } catch (error) {\n            console.warn('Vérification authentification échouée:', error.message);\n            SecurityUtils.clearStorage();\n            return false;\n        }\n    },\n\n    getToken: () => {\n        const token = localStorage.getItem('token');\n        return SecurityUtils.isValidJWT(token) ? token : null;\n    },\n\n    refreshToken: async () => {\n        try {\n            const refreshToken = localStorage.getItem('refreshToken');\n            \n            if (!refreshToken || !SecurityUtils.isValidJWT(refreshToken)) {\n                throw new Error('Refresh token invalide');\n            }\n            \n            const response = await api.post('/refresh-token', { refreshToken });\n            const { token: newToken } = response.data;\n            \n            if (!SecurityUtils.isValidJWT(newToken)) {\n                throw new Error('Nouveau token invalide');\n            }\n            \n            localStorage.setItem('token', newToken);\n            return newToken;\n        } catch (error) {\n            console.error('Erreur refresh token:', error);\n            SecurityUtils.clearStorage();\n            throw error;\n        }\n    },\n\n    getCurrentUser: () => {\n        try {\n            const userStr = localStorage.getItem('user');\n            if (!userStr) return null;\n            \n            const user = JSON.parse(userStr);\n            return SecurityUtils.sanitizeUserData(user);\n        } catch (error) {\n            console.error('Erreur parsing utilisateur:', error);\n            localStorage.removeItem('user');\n            return null;\n        }\n    },\n\n    canAccessAdmin: (userRole) => {\n        return userRole && (userRole === 'manager' || userRole === 'responsable_projet');\n    },\n\n    canModifyTasks: (userRole) => {\n        return userRole === 'responsable_projet';\n    },\n\n    canManageUsers: (userRole) => {\n        return userRole === 'responsable_projet';\n    },\n\n    canManageProject: (userRole) => {\n        return userRole === 'responsable_projet';\n    },\n\n    isManager: (userRole) => {\n        return userRole === 'manager';\n    },\n\n    isResponsableProjet: (userRole) => {\n        return userRole === 'responsable_projet';\n    },\n\n    isCollaborateur: (userRole) => {\n        return userRole === 'collaborateur';\n    },\n\n    canAccessAdminGlobally: (projects, userId) => {\n        if (!projects || !Array.isArray(projects) || !userId) return false;\n        \n        return projects.some(project => {\n            const userRole = authService.getUserRoleInProject(project, userId);\n            return userRole === 'manager' || userRole === 'responsable_projet';\n        });\n    },\n\n    getAdminAccessibleProjects: (projects, userId) => {\n        if (!projects || !Array.isArray(projects) || !userId) return [];\n        \n        return projects.filter(project => {\n            const userRole = authService.getUserRoleInProject(project, userId);\n            return userRole === 'manager' || userRole === 'responsable_projet';\n        });\n    },\n\n    getUserRoleInProject: (project, userId) => {\n        if (!project || !project.users || !userId) return null;\n        const userInProject = project.users.find(u => u.id === userId);\n        return userInProject?.role || null;\n    },\n\n    getCurrentUserRole: () => {\n        return localStorage.getItem('currentUserRole');\n    },\n\n    setCurrentUserRole: (role) => {\n        if (role) {\n            localStorage.setItem('currentUserRole', role);\n        } else {\n            localStorage.removeItem('currentUserRole');\n        }\n    },\n\n    validatePassword: (password) => {\n        const minLength = 8;\n        const hasUpperCase = /[A-Z]/.test(password);\n        const hasLowerCase = /[a-z]/.test(password);\n        const hasNumbers = /\\d/.test(password);\n        const hasSpecialChar = /[!@#$%^&*(),.?\":{}|<>]/.test(password);\n        \n        const errors = [];\n        \n        if (password.length < minLength) {\n            errors.push(`Au moins ${minLength} caractères`);\n        }\n        if (!hasUpperCase) {\n            errors.push('Une majuscule');\n        }\n        if (!hasLowerCase) {\n            errors.push('Une minuscule');\n        }\n        if (!hasNumbers) {\n            errors.push('Un chiffre');\n        }\n        if (!hasSpecialChar) {\n            errors.push('Un caractère spécial');\n        }\n        \n        return {\n            isValid: errors.length === 0,\n            errors: errors,\n            strength: errors.length === 0 ? 'Fort' : \n                     errors.length <= 2 ? 'Moyen' : 'Faible'\n        };\n    }\n};\n\nexport default authService;","import axios from 'axios';\n\nconst API_URL = 'http://localhost:8000/api';\n\nconst api = axios.create({\n    baseURL: API_URL,\n    headers: {\n        'Content-Type': 'application/json',\n    },\n    timeout: 10000,\n});\n\napi.interceptors.request.use(\n    (config) => {\n        const token = localStorage.getItem('token');\n        if (token) {\n            config.headers.Authorization = `Bearer ${token}`;\n        }\n        return config;\n    },\n    (error) => {\n        return Promise.reject(error);\n    }\n);\n\napi.interceptors.response.use(\n    (response) => response,\n    (error) => {\n        if (error.response?.status === 401) {\n            localStorage.removeItem('token');\n            localStorage.removeItem('user');\n            window.location.replace('/login');\n        }\n        return Promise.reject(error);\n    }\n);\n\nconst profileService = {\n    getProfile: async () => {\n        try {\n            const response = await api.get('/user');\n            return response.data;\n        } catch (error) {\n            throw error.response?.data || error.message;\n        }\n    },\n\n    updateProfile: async (userData) => {\n        try {\n            const response = await api.put('/user', userData);\n            return response.data?.user ?? response.data;\n        } catch (error) {\n            throw error.response?.data || error.message;\n        }\n    },\n};\n\nexport default profileService;\n"],"names":["Footer","useNavigate","_jsx","className","children","_jsxs","viewBox","fill","x","y","width","height","rx","stroke","strokeWidth","d","href","API_BASE_URL","createPaymentIntent","amount","arguments","length","undefined","token","localStorage","getItem","response","fetch","concat","method","headers","Date","now","Math","random","toString","substr","body","JSON","stringify","ok","Error","json","error","console","createSubscription","paymentMethodId","requestData","payment_method_id","user_id","parse","id","getSubscriptionStatus","cancelSubscription","errorData","Header","isMenuOpen","setIsMenuOpen","useState","isAuthenticated","setIsAuthenticated","canAccessAdmin","setCanAccessAdmin","navigate","location","useLocation","useEffect","async","authService","userProfile","profileService","getProfile","dashboardServices","projectsData","getProjects","hasAdminAccess","canAccessAdminGlobally","projects","checkAuth","pathname","onClick","_Fragment","toggleMenu","API_URL","process","REACT_APP_API_URL","api","axios","create","baseURL","timeout","SecurityUtils","parts","split","header","atob","alg","typ","payload","floor","exp","clearStorage","removeItem","sessionStorage","clear","document","cookie","forEach","eqPos","indexOf","name","userData","_userData$firstname","_userData$lastname","email","firstname","trim","lastname","role","loginRateLimiter","maxRequests","windowMs","requests","Map","key","windowStart","has","set","userRequests","get","filter","time","push","interceptors","request","use","config","Authorization","warn","Promise","reject","_error$response","status","publicPaths","currentPath","window","some","path","includes","setItem","replace","data","_error$response2","register","password","test","sanitizedData","toLowerCase","post","_error$response3","message","login","credentials","loginData","username","user","refreshToken","sanitizedUser","_error$response4","logout","hasToken","getToken","newToken","getCurrentUser","userStr","userRole","canModifyTasks","canManageUsers","canManageProject","isManager","isResponsableProjet","isCollaborateur","userId","Array","isArray","project","getUserRoleInProject","getAdminAccessibleProjects","users","userInProject","find","u","getCurrentUserRole","setCurrentUserRole","validatePassword","hasUpperCase","hasLowerCase","hasNumbers","hasSpecialChar","errors","isValid","strength","updateProfile","_response$data$user","_response$data","put"],"sourceRoot":""}